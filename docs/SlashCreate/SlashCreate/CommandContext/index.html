<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CommandContext (SlashCreate.SlashCreate.CommandContext)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../">Up</a> â€“ <a href="../../">SlashCreate</a> &#x00BB; <a href="../">SlashCreate</a> &#x00BB; CommandContext</nav><h1>Module <code>SlashCreate.CommandContext</code></h1></header><dl><dt class="spec type" id="type-channel"><a href="#type-channel" class="anchor"></a><code><span class="keyword">type</span> channel</code>;</dt><dt class="spec type" id="type-role"><a href="#type-role" class="anchor"></a><code><span class="keyword">type</span> role</code>;</dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span class="keyword">pri</span> </code><code>{</code><table class="record"><tr id="type-t.creator" class="anchored"><td class="def field"><a href="#type-t.creator" class="anchor"></a><code>creator: <a href="../SlashCreator#type-t">SlashCreator.t</a>,</code></td><td class="doc"><p>The creator of the command.</p></td></tr><tr id="type-t.interactionToken" class="anchored"><td class="def field"><a href="#type-t.interactionToken" class="anchor"></a><code>interactionToken: string,</code></td><td class="doc"><p>The interaction's token.</p></td></tr><tr id="type-t.interactionID" class="anchored"><td class="def field"><a href="#type-t.interactionID" class="anchor"></a><code>interactionID: string,</code></td><td class="doc"><p>The interaction's ID.</p></td></tr><tr id="type-t.channelID" class="anchored"><td class="def field"><a href="#type-t.channelID" class="anchor"></a><code>channelID: string,</code></td><td class="doc"><p>The channel ID that the command was invoked in.</p></td></tr><tr id="type-t.guildID" class="anchored"><td class="def field"><a href="#type-t.guildID" class="anchor"></a><code>guildID: Js.undefined(string),</code></td><td class="doc"><p>The guild ID that the command was invoked in.</p></td></tr><tr id="type-t.member" class="anchored"><td class="def field"><a href="#type-t.member" class="anchor"></a><code>member: <a href="../Member#type-unresolved">Member.unresolved</a>,</code></td><td class="doc"><p>The member that invoked the command.</p></td></tr><tr id="type-t.user" class="anchored"><td class="def field"><a href="#type-t.user" class="anchor"></a><code>user: <a href="../User#type-t">User.t</a>,</code></td><td class="doc"><p>The user that invoked the command.</p></td></tr><tr id="type-t.commandName" class="anchored"><td class="def field"><a href="#type-t.commandName" class="anchor"></a><code>commandName: string,</code></td><td class="doc"><p>The command's name.</p></td></tr><tr id="type-t.commandID" class="anchored"><td class="def field"><a href="#type-t.commandID" class="anchor"></a><code>commandID: string,</code></td><td class="doc"><p>The command's ID.</p></td></tr><tr id="type-t.options" class="anchored"><td class="def field"><a href="#type-t.options" class="anchor"></a><code>options: Js.Json.t,</code></td><td class="doc"><p>The options given to the command.</p></td></tr><tr id="type-t.subcommands" class="anchored"><td class="def field"><a href="#type-t.subcommands" class="anchor"></a><code>subcommands: array(string),</code></td><td class="doc"><p>The subcommands the member used in order.</p></td></tr><tr id="type-t.invokedAt" class="anchored"><td class="def field"><a href="#type-t.invokedAt" class="anchor"></a><code>invokedAt: float,</code></td><td class="doc"><p>The time when the context was created.</p></td></tr><tr id="type-t.initiallyResponded" class="anchored"><td class="def field"><a href="#type-t.initiallyResponded" class="anchor"></a><code><span class="keyword">mutable</span> initiallyResponded: bool,</code></td><td class="doc"><p>Whether the initial response was made.</p></td></tr><tr id="type-t.users" class="anchored"><td class="def field"><a href="#type-t.users" class="anchor"></a><code>users: Js.Dict.t(<a href="../User#type-t">User.t</a>),</code></td><td class="doc"><p>The resolved users of the interaction.</p></td></tr><tr id="type-t.members" class="anchored"><td class="def field"><a href="#type-t.members" class="anchor"></a><code>members: Js.Dict.t(<a href="../Member#type-t">Member.t</a>),</code></td><td class="doc"><p>The resolved members of the interaction.</p></td></tr><tr id="type-t.roles" class="anchored"><td class="def field"><a href="#type-t.roles" class="anchor"></a><code>roles: Js.Dict.t(<a href="#type-role">role</a>),</code></td><td class="doc"><p>The resolved roles of the interaction.</p></td></tr><tr id="type-t.channels" class="anchored"><td class="def field"><a href="#type-t.channels" class="anchor"></a><code>channels: Js.Dict.t(<a href="#type-channel">channel</a>),</code></td><td class="doc"><p>The resolved channels of the interaction.</p></td></tr><tr id="type-t.expired" class="anchored"><td class="def field"><a href="#type-t.expired" class="anchor"></a><code>expired: bool,</code></td><td class="doc"><p>Whether the interaction has expired. Interactions last 15 minutes.</p></td></tr></table><code>}</code>;</dt></dl><dl><dt class="spec external" id="val-acknowledge"><a href="#val-acknowledge" class="anchor"></a><code><span class="keyword">let</span> acknowledge: <a href="#type-t">t</a> <span>=&gt;</span> <span>?&#8288;includeSource:bool</span> <span>=&gt;</span> unit <span>=&gt;</span> Js.Promise.t(bool);</code></dt><dd><p>Acknowleges the interaction. Including source will send a message showing only the source.</p><dl><dt>parameter includeSource</dt><dd><p>Whether to include the source in the acknowledgement</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-delete"><a href="#val-delete" class="anchor"></a><code><span class="keyword">let</span> delete: <a href="#type-t">t</a> <span>=&gt;</span> <span>?&#8288;messageID:string</span> <span>=&gt;</span> unit <span>=&gt;</span> Js.Promise.t(unit);</code></dt><dd><p>Deletes a message. If the message ID was not defined, the original message is used.</p><dl><dt>parameter messageID</dt><dd><p>The message's ID</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-edit"><a href="#val-edit" class="anchor"></a><code><span class="keyword">let</span> edit: <a href="#type-t">t</a> <span>=&gt;</span> <span>messageID:string</span> <span>=&gt;</span> <span>[ <span>`Content<span>(string)</span></span> <span><span>| `Params</span><span>(<a href="../Message#type-editParams">Message.editParams</a>)</span></span> ]</span> <span>=&gt;</span> Js.Promise.t(<a href="../Message#type-t">Message.t</a>);</code></dt><dd><p>Edits a message.</p><dl><dt>parameter self</dt><dd><p>The context within which to send the message</p></dd></dl><dl><dt>parameter messageID</dt><dd><p>The message's ID</p></dd></dl><dl><dt>parameter options</dt><dd><p>The message content, or a structure of message options</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-editOriginal"><a href="#val-editOriginal" class="anchor"></a><code><span class="keyword">let</span> editOriginal: <a href="#type-t">t</a> <span>=&gt;</span> <span>[ <span>`Content<span>(string)</span></span> <span><span>| `Params</span><span>(<a href="../Message#type-editParams">Message.editParams</a>)</span></span> ]</span> <span>=&gt;</span> Js.Promise.t(<a href="../Message#type-t">Message.t</a>);</code></dt><dd><p>Edits the original message. This is put on a timeout of 150 ms for webservers to account for Discord recieving and processing the original response.</p><p>Note: This will error with ephemeral messages or acknowledgements.</p><dl><dt>parameter self</dt><dd><p>The context within which to edit the message</p></dd></dl><dl><dt>parameter options</dt><dd><p>The message content, or a structure of message options</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-_send"><a href="#val-_send" class="anchor"></a><code><span class="keyword">let</span> _send: <a href="#type-t">t</a> <span>=&gt;</span> <span>[ <span>`Content<span>(string)</span></span> <span><span>| `Params</span><span>(<a href="../Message#type-params">Message.params</a>)</span></span> ]</span> <span>=&gt;</span> Js.Promise.t(Js.Json.t);</code></dt><dt class="spec external" id="val-assertIsMessage"><a href="#val-assertIsMessage" class="anchor"></a><code><span class="keyword">let</span> assertIsMessage: Js.Dict.t(Js.Json.t) <span>=&gt;</span> <a href="../Message#type-t">Message.t</a>;</code></dt></dl><dl><dt class="spec value" id="val-send"><a href="#val-send" class="anchor"></a><code><span class="keyword">let</span> send: <a href="#type-t">t</a> <span>=&gt;</span> <span>[ <span>`Content<span>(string)</span></span> <span><span>| `Params</span><span>(<a href="../Message#type-params">Message.params</a>)</span></span> ]</span> <span>=&gt;</span> Js.Promise.t(<span>[ <span>`Initial<span>(bool)</span></span> <span><span>| `Message</span><span>(<a href="../Message#type-t">Message.t</a>)</span></span> ]</span>);</code></dt><dd><p>Sends a message, if it already made an initial response, this will create a follow-up message. This will return a boolean if it's an initial response, otherwise a <a href="../Message#type-t"><code>Message.t</code></a> will be returned.</p><p>Note that when making a follow-up message, the <a href="../Message#type-params.ephemeral"><code>Message.params.ephemeral</code></a> and <a href="../Message#type-params.includeSource"><code>Message.params.includeSource</code></a> are ignored.</p><dl><dt>parameter self</dt><dd><p>The context within which to send the message</p></dd></dl><dl><dt>parameter options</dt><dd><p>The message content, or a structure of message options</p></dd></dl></dd></dl><dl><dt class="spec external" id="val-sendFollowUp"><a href="#val-sendFollowUp" class="anchor"></a><code><span class="keyword">let</span> sendFollowUp: <a href="#type-t">t</a> <span>=&gt;</span> <span>[ <span>`Content<span>(string)</span></span> <span><span>| `Params</span><span>(<a href="../Message#type-followUpParams">Message.followUpParams</a>)</span></span> ]</span> <span>=&gt;</span> Js.Promise.t(<a href="../Message#type-t">Message.t</a>);</code></dt><dd><p>Sends a follow-up message.</p><dl><dt>parameter self</dt><dd><p>The context within which to send the message</p></dd></dl><dl><dt>parameter options</dt><dd><p>The message content, or a structure of message options</p></dd></dl></dd></dl></div></body></html>